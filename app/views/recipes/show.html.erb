<div class="container mb-5">
    <% if @recipe.photo.key %>
    <div style="background-image: url('<%= cl_image_path(@recipe.photo.key) %>');
                height: 300px;
                width: 100%;
                background-size: cover;
                background-position: center;
                margin-top: 20px;
                border-radius: 15px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
                position: relative;">
        <div style="position: absolute;
                    top: 10px;
                    left: 10px;
                    background: rgba(0, 0, 0, 0.5);
                    color: white;
                    padding: 5px 10px;
                    border-radius: 10px;
                    display: flex;
                    align-items: center;">
          <i class="fa-solid fa-thumbs-up" style="margin-right: 5px; color: white;"></i>
          <%# <i class="fa-solid fa-thumbs-up"></i> %>
          <%= @recipe.recipe_likes %>
        </div>
    </div>
    <% end %>


    <br>
    <%# <p class="paragraph"><strong>Likes:</strong> <%= @recipe.recipe_likes %>

    <div class="d-flex justify-content-between align-items-center mx-3">
      <div>
      <strong><em><%= @recipe.recipe_name %> </em></strong>
      <% text = @recipe.user.user_name ? @recipe.user.user_name : "Anonymous User" %>
      <p class="paragraph">By <%= text %></p>
      </div>

      <h2>
        <% if @recipe.favorite %>
          <i class="fa fa-heart text-danger"></i> <!-- Filled red heart -->
        <% else %>
          <i class="fa fa-heart-o" style="color: #444;"></i> <!-- Empty heart -->
        <% end %>
      </h2>
    </div>

  <div class="d-flex justify-content-between align-items-center mx-3">
    <p class="paragraph"><strong><i class="fa fa-tags"></i></strong> <%= @recipe.recipe_category %></p>
    <p class="paragraph"><strong><i class="fa-regular fa-bell"></i></strong> <%= @recipe.preparation_time %> </p>
    <p class="paragraph"><strong><i class="fa fa-signal"></i></strong> <%= @recipe.difficulty %></p>
    <p class="paragraph"><strong><i class="fa fa-users"></i></strong> <%= @recipe.servings %></p>
  </div>
<br>
  <nav>
    <div class="nav nav-tabs flex-nowrap overflow-auto" id="nav-tab" role="tablist">
      <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home" aria-selected="true">Description</button>
      <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile" aria-selected="false">Ingrédients</button>
      <button class="nav-link" id="nav-contact-tab" data-bs-toggle="tab" data-bs-target="#nav-contact" type="button" role="tab" aria-controls="nav-contact" aria-selected="false">Étapes à suivre</button>
    </div>
  </nav>
  <br>
  <div class="tab-content" id="nav-tabContent">
    <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab"><%= @recipe.recipe_overview %></div>

    <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
      <% @recipe.ingredients.each do |ingredient| %>
        <%= ingredient.ingredient_name %>
      <% end %>
    </div>
<div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
  <ol>
    <%= raw(@formatted_steps) %>
  </ol>
</div>

<br>

<div class="mb-4 d-flex justify-content-center">
    <%= link_to "Editer ma recette", edit_recipe_path, class: "btn-vert mx-1 text-nowrap px-3" %>
    <%= link_to "Toutes les recettes", recipes_path, class: "btn-bleu mx-1 text-nowrap px-3" %>
</div>


</div>
